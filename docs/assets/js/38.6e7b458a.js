(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{182:function(t,e,a){"use strict";a.r(e);var n=a(0),r=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"mobx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mobx","aria-hidden":"true"}},[t._v("#")]),t._v(" mobx")]),t._v(" "),a("h3",{attrs:{id:"快速新建一个项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速新建一个项目","aria-hidden":"true"}},[t._v("#")]),t._v(" 快速新建一个项目")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("  npx create-react-app mobx-react\n\n  cd mobx-react\n\n  yarn eject\n")])])]),a("p",[t._v('报错的话执行 git add .\ngit commit -m "aa"')]),t._v(" "),a("h3",{attrs:{id:"安装依赖包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖包","aria-hidden":"true"}},[t._v("#")]),t._v(" 安装依赖包")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("   yarn add babel-plugin-transform-decorators-legacy @babel/plugin-proposal-decorators mobx mobx-react --save-dev\n")])])]),a("h3",{attrs:{id:"配置package-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置package-json","aria-hidden":"true"}},[t._v("#")]),t._v(" 配置package.json")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('   "babel": {\n    "plugins":[\n      [\n        "@babel/plugin-proposal-decorators",\n        {\n            "legacy":true\n        }\n      ],\n      [\n        "@babel/plugin-proposal-class-properties",\n        {\n            "loose":true\n        }\n        ]\n      ],\n    "presets":[\n    "react-app"\n    ]\n  }\n')])])]),a("p",[t._v("index.js中")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("   import React from 'react';\n   import ReactDOM from 'react-dom';\n   import App from './App';\n   //引入provider\n   import {Provider} from \"mobx-react\"\n   //引入store\n   import store from \"./store\"\n\n   ReactDOM.render(<Provider {...store}><App /></Provider>, document.getElementById('root'))\n")])])]),a("p",[t._v("APP.js")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("  import React from 'react';\n  import {inject,observer} from \"mobx-react\"\n  @inject(\"count\")\n  @observer\n  class App extends React.Component{\n    render(){\n        console.log(this.props)\n        return (\n        <div>\n        <button onClick={()=>this.props.count.changeCount('+')}>+</button>\n        <p>{this.props.count.count}</p>\n        <button onClick={()=>this.props.count.changeCount('-')}>+</button>\n        </div>)\n  }\n}\n\nexport default App;\n")])])]),a("p",[t._v("store.js中")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('  //加载子模块\n  import Count from "./moudle/count"\n  //引入日志\n  // import {autorun} from "mobx"\n\n  let count=new Count()\n\n  export default {\n    count\n  }\n')])])]),a("p",[t._v("子模块中")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("    import { observable, action } from \"mobx\"\n    export default class Count {\n    //模块的数据\n    @observable count = 1;//可观察的状态\n    //模块的行为\n    @action changeCount(type) {\n        type === '+' ? this.count++ : this.count--\n    }\n    }\n")])])])])}],!1,null,null,null);e.default=r.exports}}]);